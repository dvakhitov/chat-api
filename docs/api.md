# REST API (Symfony)

Эта страница описывает основные конечные точки REST-API. Все запросы требуют заголовок авторизации:

```
Authorization: Bearer <JWT>
```

## POST /api/messages
Создать чат-сообщение. Сервер помещает сообщение в очередь и возвращает 202.

Запрос:
```json
{
  "chatPartnerId": 42,
  "text": "Hello"
}
```

Ответ **202 Accepted**
```json
{ "status": "Message accepted" }
```

При успешной обработке каждый из двух участников чата получит WebSocket-уведомление:

```json
{
  "type": "CHAT_MESSAGE",
  "chatId": 7,
  "messageId": 123,
  "text": "Hello"
}
```

Кроме того, обоим отправляются технические сообщения (service payload) с типом `CHAT_META`, которые могут сообщать, например, о количестве непрочитанных сообщений.

## GET /health
Проверка доступности API. Ответ: `{ "status": "OK" }`.

---

Дополнительные контроллеры (`/api/chats`, `/api/profile` и др.) следует описать аналогично.

